<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Getting started - Django-Flags</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/theme.css" type="text/css" />
  <link rel="stylesheet" href="css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="css/overrides.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting started";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Django-Flags</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href=".">Getting started</a>
    <ul class="subnav">
            
    
        <ul>
        
            <li><a class="toctree-l3" href="#dependencies">Dependencies</a></li>
        
            <li><a class="toctree-l3" href="#installation">Installation</a></li>
        
            <li><a class="toctree-l3" href="#concepts">Concepts</a></li>
        
            <li><a class="toctree-l3" href="#quickstart">Quickstart</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="usage/">Usage guide</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="debugging/">Debugging</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="settings/">Settings</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="conditions/">Conditions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API Reference</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="api/sources/">Flag sources</a>
                </li>
                <li class="">
                    
    <a class="" href="api/state/">Flag state</a>
                </li>
                <li class="">
                    
    <a class="" href="api/decorators/">Flag decorators</a>
                </li>
                <li class="">
                    
    <a class="" href="api/urls/">Flagged URL patterns</a>
                </li>
                <li class="">
                    
    <a class="" href="api/views/">Class-based views</a>
                </li>
                <li class="">
                    
    <a class="" href="api/django/">Django templates</a>
                </li>
                <li class="">
                    
    <a class="" href="api/jinja2/">Jinja2 templates</a>
                </li>
                <li class="">
                    
    <a class="" href="api/conditions/">Conditions</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="releasenotes/">Release notes</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Django-Flags</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Getting started</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/cfpb/django-flags/edit/master/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="django-flags">Django-Flags<a class="headerlink" href="#django-flags" title="Permanent link">¶</a></h1>
<p>Feature flags allow you to toggle functionality in both Django code and the Django templates based on configurable conditions. Flags can be useful for staging feature deployments, for A/B testing, or for any time you need an on/off switch for blocks of code. The toggle can be by date, user, URL value, or a number of <a href="./conditions">other conditions</a>, editable in the admin or in definable in settings.</p>
<h2 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">¶</a></h2>
<ul>
<li>Django 1.8+ (including Django 2.0)</li>
<li>Python 2.7+, 3.6+</li>
</ul>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">¶</a></h2>
<p>First, install django-flags:</p>
<pre class="highlight"><code class="language-shell">pip install django-flags</code></pre>

<p>Then add <code>flags</code> as an installed app in your Django <code>settings.py</code>:</p>
<pre class="highlight"><code class="language-python">INSTALLED_APPS = (
    # …
    'flags',
    # …
)</code></pre>

<p>And <code>django.template.context_processors.request</code> to the <code>TEMPLATES</code> <code>context_processors</code> setting so that the <code>request</code> variable is available:</p>
<pre class="highlight"><code class="language-python">TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        # …
        'OPTIONS': {
            # …
            'context_processors': [
                # …
                'django.core.context_processors.request',
                # …
            ],
            # …
        },
        # …
    },
]</code></pre>

<p>(Optionally) add <code>flags.middleware.FlagConditionsMiddleware</code> to <code>MIDDLEWARE</code> to avoid looking up flag conditions more than once per request:</p>
<pre class="highlight"><code class="language-python">MIDDLEWARE = (
    # …
    'flags.middleware.FlagConditionsMiddleware',
    # …
)</code></pre>

<p>Finally, run migrations:</p>
<pre class="highlight"><code class="language-shell">./manage.py migrate</code></pre>

<h2 id="concepts">Concepts<a class="headerlink" href="#concepts" title="Permanent link">¶</a></h2>
<p>Feature flags in Django-Flags are identified by simple strings that are enabled when the conditions they are associated with are met. These flags can be used to wrap code and template content that should only be used when a flag is enabled or disabled.</p>
<p>Conditions determine whether a flag is enabled or disabled by comparing a defined expected value of some kind with the value at the time the flag is checked. In many cases, the flag is checked during a request, and some piece of the request's metadata is what is compared. For example, a feature flag that is enabled for a specific user would be enabled if the request's user matches the condition's user.</p>
<h2 id="quickstart">Quickstart<a class="headerlink" href="#quickstart" title="Permanent link">¶</a></h2>
<p>To use Django-Flags you first need to define the flag, use the flag, and define conditions for the flag to be enabled.</p>
<p>First, define the flag in Django <code>settings.py</code>:</p>
<pre class="highlight"><code class="language-python">FLAGS = {
    'MY_FLAG': []
}</code></pre>

<p>Then use the flag in a Django template (<code>mytemplate.html</code>):</p>
<pre class="highlight"><code class="language-django">{% load feature_flags %}
{% flag_enabled 'MY_FLAG' as my_flag %}

{% if my_flag %}
  &lt;div class="flagged-banner"&gt;
    I’m the result of a feature flag.   
  &lt;/div&gt;
{% endif %}</code></pre>

<p>Configure a URL for that template (<code>urls.py</code>):</p>
<p>Django 2.0:</p>
<pre class="highlight"><code class="language-python">from django.urls import path
from django.views.generic import TemplateView

urlpatterns = [
    path(r'mypage/', TemplateView.as_view(template_name='mytemplate.html')),
]</code></pre>

<p>Django 1.x:</p>
<pre class="highlight"><code class="language-python">from django.conf.urls import url
from django.views.generic import TemplateView

urlpatterns = [
    url(r'^mypage/$', TemplateView.as_view(template_name='mytemplate.html')),
]</code></pre>

<p>Then in the Django admin add conditions for the flag in "Django Flags", "Flag states":</p>
<p><img alt="Creating conditions in the Django admin" src="images/screenshot_create.png" /></p>
<p>Then visiting the URL <code>/mypage?enable_my_flag=True</code> should show you the flagged <code>&lt;div&gt;</code> in the template.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usage/" class="btn btn-neutral float-right" title="Usage guide">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/cfpb/django-flags/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="usage/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>

</body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2019-07-03 13:31:57
-->
