<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Flag state - Django-Flags</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../css/overrides.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Flag state";
        var mkdocs_page_input_path = "api/state.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Django-Flags
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Getting started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../usage/">Usage guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../debugging/">Debugging</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../settings/">Settings</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../conditions/">Conditions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../management_commands/">Management commands</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../sources/">Flag sources</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Flag state</a>
    <ul class="current">
    
        <ul>
        
            <li><a class="toctree-l4" href="#checking-state">Checking state</a></li>
        
            <li><a class="toctree-l4" href="#requiring-state">Requiring state</a></li>
        
            <li><a class="toctree-l4" href="#setting-state">Setting state</a></li>
        
        </ul>
    

    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../decorators/">Flag decorators</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../urls/">Flagged URL patterns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../views/">Class-based views</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../django/">Django templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../jinja2/">Jinja2 templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../conditions/">Conditions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Release notes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../releasenotes/">Release notes</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Django-Flags</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>API Reference &raquo;</li>
      <li>Flag state</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/cfpb/django-flags/edit/main/docs/api/state.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="flag-state">Flag state<a class="headerlink" href="#flag-state" title="Permanent link">¶</a></h1>
<pre class="highlight"><code class="language-python">from flags.state import (
    flag_state,
    flag_enabled,
    flag_disabled,
    enable_flag,
    disable_flag,
)</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If any of the flag state checking functions below is used at the top-level of a module (in <code>urls.py</code>, for example), it will be evaluated at import-time. This may have unintended consequences. <a href="/api/sources/#flag-sources">Database flag conditions</a> may not be available, <a href="/api/conditions/">custom conditions</a> may not be registered, and any dynamic change in flag state (such as date-based conditions or a newly added database condition) will not have an effect.</p>
<p>Consider using <a href="/api/urls/">the flagged URLs API</a> for state-checking in <code>urls.py</code>, <a href="/api/decorators/">the view decorators</a> and <a href="/api/views/">the class-based view mixin</a> for state-checking Django views, and using the state checking functions below inside methods and functions. This will have the added benefit of ensuring that the intention is clear, and that flagged code is as tightly-scoped as possible.</p>
</div>
<h2 id="checking-state">Checking state<a class="headerlink" href="#checking-state" title="Permanent link">¶</a></h2>
<h3 id="flag_stateflag_name-kwargs"><code>flag_state(flag_name, **kwargs)</code><a class="headerlink" href="#flag_stateflag_name-kwargs" title="Permanent link">¶</a></h3>
<p>Return the value for the flag (<code>True</code> or <code>False</code>) by passing kwargs to its conditions. If the flag does not exist, this will return <code>None</code> so that existence can be introspected but will still evaluate to <code>False</code>.</p>
<h2 id="requiring-state">Requiring state<a class="headerlink" href="#requiring-state" title="Permanent link">¶</a></h2>
<h3 id="flag_enabledflag_name-kwargs"><code>flag_enabled(flag_name, **kwargs)</code><a class="headerlink" href="#flag_enabledflag_name-kwargs" title="Permanent link">¶</a></h3>
<p>Returns <code>True</code> if a flag is enabled by passing kwargs to its conditions, otherwise returns <code>False</code>.</p>
<pre class="highlight"><code class="language-python">if flag_enabled('MY_FLAG', request=a_request):
    print("My feature flag is enabled")</code></pre>
<h3 id="flag_disabledflag_name-kwargs"><code>flag_disabled(flag_name, **kwargs)</code><a class="headerlink" href="#flag_disabledflag_name-kwargs" title="Permanent link">¶</a></h3>
<p>Returns <code>True</code> if a flag is disabled by passing kwargs to its conditions, otherwise returns <code>False</code>.</p>
<pre class="highlight"><code class="language-python">if flag_disabled('MY_FLAG', request=a_request):
    print(“My feature flag is disabled”)</code></pre>
<h2 id="setting-state">Setting state<a class="headerlink" href="#setting-state" title="Permanent link">¶</a></h2>
<h3 id="enable_flagflag_name-create_boolean_conditiontrue-requestnone"><code>enable_flag(flag_name, create_boolean_condition=True, request=None)</code><a class="headerlink" href="#enable_flagflag_name-create_boolean_conditiontrue-requestnone" title="Permanent link">¶</a></h3>
<p>Enable a flag by adding or setting an existing database boolean condition to <code>True</code>. If the flag has other required conditions, those will take precedence. </p>
<p>If <code>create_boolean_condition</code> is <code>False</code>, and a boolean database condition does not already exist, a <code>ValueError</code> will be raised.</p>
<h3 id="disable_flagflag_name-create_boolean_conditiontrue-requestnone"><code>disable_flag(flag_name, create_boolean_condition=True, request=None)</code><a class="headerlink" href="#disable_flagflag_name-create_boolean_conditiontrue-requestnone" title="Permanent link">¶</a></h3>
<p>Disable a flag by adding or setting an existing database boolean condition to <code>False</code>. If the flag has other required conditions, those will take precedence. </p>
<p>If <code>create_boolean_condition</code> is <code>False</code>, and a boolean database condition does not already exist, a <code>ValueError</code> will be raised.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../sources/" class="btn btn-neutral float-left" title="Flag sources"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../decorators/" class="btn btn-neutral float-right" title="Flag decorators">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/cfpb/django-flags/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../sources/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../decorators/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
